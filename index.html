<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Coin Flip Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0f1923;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: #fff;
        }

        .game-container {
            background: #1a2c38;
            border-radius: 12px;
            padding: 30px 50px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            max-width: 1400px;
            width: 100%;
            max-height: 90vh;
            border: 1px solid #2d3f4d;
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: auto auto auto 1fr auto;
            gap: 20px;
            overflow-y: auto;
        }

        .left-section {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .right-section {
            display: flex;
            flex-direction: column;
        }

        .warning-banner {
            background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
            padding: 12px 20px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 600;
            font-size: 0.9em;
            grid-column: 1 / -1;
        }

        .warning-icon {
            font-size: 1.5em;
        }

        h1 {
            text-align: center;
            color: #00d4ff;
            margin: 0;
            font-size: 2.5em;
            text-shadow: 0 0 20px rgba(0, 212, 255, 0.3);
            grid-column: 1 / -1;
        }

        .balance {
            text-align: center;
            font-size: 1.8em;
            color: #b4bdc6;
            padding: 20px;
            background: #0f1923;
            border-radius: 8px;
            border: 1px solid #2d3f4d;
            grid-column: 1 / -1;
        }

        .balance span {
            color: #00d4ff;
            font-weight: bold;
            font-size: 1.3em;
        }

        .redeem-section {
            padding: 20px;
            background: #0f1923;
            border-radius: 8px;
            border: 1px solid #2d3f4d;
            grid-column: 1 / -1;
        }

        .redeem-section label {
            display: block;
            margin-bottom: 10px;
            color: #b4bdc6;
            font-weight: 600;
            font-size: 0.95em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .redeem-input-group {
            display: flex;
            gap: 10px;
        }

        .redeem-input-group input {
            flex: 1;
            padding: 12px 15px;
            font-size: 1em;
            border: 2px solid #2d3f4d;
            border-radius: 8px;
            background: #1a2c38;
            color: #fff;
            transition: all 0.3s;
        }

        .redeem-input-group input:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.2);
        }

        .redeem-input-group input::placeholder {
            color: #6b7a87;
        }

        .redeem-btn {
            padding: 12px 30px;
            font-size: 1em;
            background: linear-gradient(135deg, #00d4ff 0%, #0099cc 100%);
            color: #0f1923;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .redeem-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 212, 255, 0.4);
        }

        .redeem-message {
            margin-top: 10px;
            font-size: 0.9em;
            font-weight: 600;
            min-height: 20px;
            text-align: center;
        }

        .redeem-message.success {
            color: #00d4ff;
        }

        .redeem-message.error {
            color: #ff4757;
        }

        .coin-container {
            display: flex;
            justify-content: center;
            align-items: center;
            perspective: 1000px;
            flex: 1;
        }

        .coin {
            width: 180px;
            height: 180px;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 1s;
        }

        .coin.flipping {
            animation: flip 1s ease-in-out;
        }

        @keyframes flip {
            0% { transform: rotateY(0); }
            100% { transform: rotateY(1800deg); }
        }

        .coin-face {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 4em;
            font-weight: bold;
            backface-visibility: hidden;
            box-shadow: 0 5px 30px rgba(0, 212, 255, 0.3);
            border: 3px solid #00d4ff;
        }

        .heads {
            background: radial-gradient(circle at 30% 30%, #1a5f7f, #0d3340);
            color: #00d4ff;
        }

        .tails {
            background: radial-gradient(circle at 30% 30%, #1f3d5f, #0d1f33);
            color: #00d4ff;
            transform: rotateY(180deg);
        }

        .bet-section {
            margin: 30px 0;
        }

        .choice-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .choice-btn {
            flex: 1;
            padding: 18px;
            font-size: 1.2em;
            border: 2px solid #2d3f4d;
            background: #0f1923;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            color: #b4bdc6;
        }

        .choice-btn:hover {
            border-color: #00d4ff;
            background: #1a2c38;
        }

        .choice-btn.selected {
            background: #00d4ff;
            color: #0f1923;
            border-color: #00d4ff;
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.4);
        }

        .bet-input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 10px;
            color: #b4bdc6;
            font-weight: 600;
            font-size: 0.95em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        input[type="number"] {
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            border: 2px solid #2d3f4d;
            border-radius: 8px;
            transition: all 0.3s;
            background: #0f1923;
            color: #fff;
        }

        input[type="number"]:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.2);
        }

        .quick-bet-buttons {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            margin-top: 10px;
        }

        .quick-bet-btn {
            padding: 12px;
            border: 2px solid #2d3f4d;
            background: #0f1923;
            color: #b4bdc6;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
        }

        .quick-bet-btn:hover {
            border-color: #00d4ff;
            color: #00d4ff;
            background: #1a2c38;
        }

        .flip-btn {
            width: 100%;
            padding: 20px;
            font-size: 1.5em;
            background: linear-gradient(135deg, #00d4ff 0%, #0099cc 100%);
            color: #0f1923;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            margin-top: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .flip-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 212, 255, 0.4);
        }

        .flip-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .result {
            text-align: center;
            font-size: 1.3em;
            font-weight: bold;
            min-height: 35px;
            margin-top: 20px;
        }

        .result.win {
            color: #00d4ff;
        }

        .result.lose {
            color: #ff4757;
        }

        .history {
            padding: 20px;
            background: #0f1923;
            border-radius: 8px;
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #2d3f4d;
        }

        .history h3 {
            margin-bottom: 15px;
            color: #b4bdc6;
            font-size: 1.1em;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .history-item {
            padding: 12px;
            margin: 8px 0;
            background: #1a2c38;
            border-radius: 6px;
            display: flex;
            justify-content: space-between;
            border: 1px solid #2d3f4d;
        }

        .reset-btn {
            width: 100%;
            padding: 12px;
            font-size: 1em;
            background: #2d3f4d;
            color: #b4bdc6;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .reset-btn:hover {
            background: #3d4f5d;
            color: #fff;
        }

        .footer {
            text-align: center;
            padding-top: 15px;
            border-top: 1px solid #2d3f4d;
            color: #b4bdc6;
            font-size: 0.9em;
            grid-column: 1 / -1;
        }

        .version {
            position: fixed;
            top: 10px;
            right: 10px;
            font-size: 0.8em;
            color: #b4bdc6;
            opacity: 0.7;
            background: #1a2c38;
            padding: 5px 10px;
            border-radius: 5px;
            border: 1px solid #2d3f4d;
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #0f1923;
        }

        ::-webkit-scrollbar-thumb {
            background: #2d3f4d;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #3d4f5d;
        }
    </style>
</head>
<body>
    <div class="version">Fix 3.1</div>
    <div class="game-container">
        <div class="warning-banner">
            <span class="warning-icon">‚ö†Ô∏è</span>
            <div>
                <strong>FREE PLAY ONLY</strong><br>
                Virtual chips have no real value
            </div>
        </div>

        <h1>ü™ô COIN FLIP</h1>
        
        <div class="balance">
            Chips: <span id="balance">0</span>
        </div>

        <div class="redeem-section">
            <label>Redeem Code:</label>
            <div class="redeem-input-group">
                <input type="text" id="redeemCode" placeholder="Enter code...">
                <button class="redeem-btn" id="redeemBtn">Redeem</button>
            </div>
            <div class="redeem-message" id="redeemMessage"></div>
        </div>

        <div class="left-section">
            <div class="coin-container">
                <div class="coin" id="coin">
                    <div class="coin-face heads">H</div>
                    <div class="coin-face tails">T</div>
                </div>
            </div>

            <div class="result" id="result"></div>
        </div>

        <div class="right-section">
            <div class="bet-section">
                <label>Choose Side:</label>
                <div class="choice-buttons">
                    <button class="choice-btn" data-choice="heads">HEADS</button>
                    <button class="choice-btn" data-choice="tails">TAILS</button>
                </div>

                <div class="bet-input-group">
                    <label>Bet Amount:</label>
                    <input type="number" id="betAmount" min="1" value="10">
                    <div class="quick-bet-buttons">
                        <button class="quick-bet-btn" data-amount="10">10</button>
                        <button class="quick-bet-btn" data-amount="50">50</button>
                        <button class="quick-bet-btn" data-amount="100">100</button>
                        <button class="quick-bet-btn" data-amount="all">All In</button>
                    </div>
                </div>

                <button class="flip-btn" id="flipBtn" disabled>Flip Coin</button>
            </div>

            <div class="history">
                <h3>History</h3>
                <div id="historyList"></div>
            </div>

            <button class="reset-btn" id="resetBtn">Reset Game</button>
        </div>

        <div class="footer">
            Made by Tony
        </div>
    </div>

    <script>
        let balance = 0;
        let selectedChoice = null;
        let isFlipping = false;
        let history = [];
        let redeemedCodes = [];

        const balanceEl = document.getElementById('balance');
        const betAmountEl = document.getElementById('betAmount');
        const flipBtn = document.getElementById('flipBtn');
        const resultEl = document.getElementById('result');
        const coinEl = document.getElementById('coin');
        const historyListEl = document.getElementById('historyList');
        const choiceBtns = document.querySelectorAll('.choice-btn');
        const quickBetBtns = document.querySelectorAll('.quick-bet-btn');
        const resetBtn = document.getElementById('resetBtn');
        const redeemCodeEl = document.getElementById('redeemCode');
        const redeemBtn = document.getElementById('redeemBtn');
        const redeemMessageEl = document.getElementById('redeemMessage');

        const promoCodes = {
            'tony': 1000,
            'nr3': 3,
            'lucy': 1,
            'mitchel': 100,
            'jaiden': 69,
            'eesa': 67,
            'supermegabalance': 9999
        };

        redeemBtn.addEventListener('click', redeemCode);
        redeemCodeEl.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                redeemCode();
            }
        });

        function redeemCode() {
            const code = redeemCodeEl.value.trim();
            
            if (!code) {
                redeemMessageEl.textContent = 'Please enter a code';
                redeemMessageEl.className = 'redeem-message error';
                return;
            }

            if (redeemedCodes.includes(code.toLowerCase())) {
                redeemMessageEl.textContent = 'Code already redeemed!';
                redeemMessageEl.className = 'redeem-message error';
                return;
            }

            const codeValue = promoCodes[code.toLowerCase()];
            
            if (codeValue) {
                balance += codeValue;
                balanceEl.textContent = balance;
                redeemedCodes.push(code.toLowerCase());
                redeemMessageEl.textContent = `üéâ Success! +${codeValue} chips added!`;
                redeemMessageEl.className = 'redeem-message success';
                redeemCodeEl.value = '';
            } else {
                redeemMessageEl.textContent = 'Invalid code';
                redeemMessageEl.className = 'redeem-message error';
            }

            setTimeout(() => {
                redeemMessageEl.textContent = '';
                redeemMessageEl.className = 'redeem-message';
            }, 3000);
        }

        choiceBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                choiceBtns.forEach(b => b.classList.remove('selected'));
                btn.classList.add('selected');
                selectedChoice = btn.dataset.choice;
                updateFlipButton();
            });
        });

        quickBetBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                if (btn.dataset.amount === 'all') {
                    betAmountEl.value = balance;
                } else {
                    betAmountEl.value = btn.dataset.amount;
                }
            });
        });

        betAmountEl.addEventListener('input', updateFlipButton);

        function updateFlipButton() {
            const betAmount = parseInt(betAmountEl.value) || 0;
            flipBtn.disabled = !selectedChoice || betAmount <= 0 || betAmount > balance || isFlipping;
        }

        flipBtn.addEventListener('click', flipCoin);

        function flipCoin() {
            const betAmount = parseInt(betAmountEl.value);
            
            if (betAmount > balance) {
                resultEl.textContent = 'Insufficient chips!';
                resultEl.className = 'result lose';
                return;
            }

            isFlipping = true;
            flipBtn.disabled = true;
            resultEl.textContent = '';
            resultEl.className = 'result';

            const result = Math.random() < 0.5 ? 'heads' : 'tails';
            
            coinEl.classList.add('flipping');
            
            setTimeout(() => {
                coinEl.classList.remove('flipping');
                
                if (result === 'heads') {
                    coinEl.style.transform = 'rotateY(0deg)';
                } else {
                    coinEl.style.transform = 'rotateY(180deg)';
                }

                const won = result === selectedChoice;
                
                if (won) {
                    balance += betAmount;
                    resultEl.textContent = `üéâ You won ${betAmount} chips!`;
                    resultEl.className = 'result win';
                } else {
                    balance -= betAmount;
                    resultEl.textContent = `üòû You lost ${betAmount} chips`;
                    resultEl.className = 'result lose';
                }

                balanceEl.textContent = balance;
                
                addToHistory(selectedChoice, result, betAmount, won);
                
                if (balance <= 0) {
                    resultEl.textContent = 'üíî Game Over! You ran out of chips!';
                    resultEl.className = 'result lose';
                }

                isFlipping = false;
                updateFlipButton();
            }, 1000);
        }

        function addToHistory(choice, result, amount, won) {
            history.unshift({
                choice,
                result,
                amount,
                won
            });

            if (history.length > 10) {
                history.pop();
            }

            updateHistoryDisplay();
        }

        function updateHistoryDisplay() {
            historyListEl.innerHTML = history.map(item => `
                <div class="history-item">
                    <span style="color: #b4bdc6;">${item.choice.toUpperCase()} ‚Üí ${item.result.toUpperCase()}</span>
                    <span style="color: ${item.won ? '#00d4ff' : '#ff4757'}; font-weight: bold;">
                        ${item.won ? '+' : '-'}${item.amount}
                    </span>
                </div>
            `).join('');
        }

        resetBtn.addEventListener('click', () => {
            if (confirm('Are you sure you want to reset the game?')) {
                balance = 0;
                history = [];
                selectedChoice = null;
                redeemedCodes = [];
                balanceEl.textContent = balance;
                resultEl.textContent = '';
                resultEl.className = 'result';
                historyListEl.innerHTML = '';
                choiceBtns.forEach(b => b.classList.remove('selected'));
                betAmountEl.value = 10;
                coinEl.style.transform = '';
                redeemCodeEl.value = '';
                redeemMessageEl.textContent = '';
                redeemMessageEl.className = 'redeem-message';
                updateFlipButton();
            }
        });
    </script>
</body>
</html>
